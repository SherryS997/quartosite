{"title":"Solo Chess","markdown":{"yaml":{"title":"Solo Chess","date":"2022-03-24","categories":["exposition","twitterthread"],"fields":["date","title"],"page-layout":"full"},"containsRefs":false,"markdown":"\n\n\nPutting [this thread](https://twitter.com/neeldhara/status/1506794212590768130) in one place.\n\n---\n\n🧵 on our latest at FUN 2022 with [@NRAravind1](https://twitter.com/NRAravind1) and Harshil.\n\nHave you tried Solo Chess [@chesscom](https://twitter.com/chesscom) yet? It’s addictive — and NP-complete* even when you’re dealing only with rooks!\n\n*when appropriately generalized\n\n![The Rules of the Game](FOk1WJZXwAUb7V7.jpg)\n\nSo this is a single-player, peg-solitaire-ish chess variant, where you have to clear board by making a sequence of valid captures, albeit starting with unorthodox — and even unrealistic — positions.\n\n![An example position](CleanShot_2022-03-24_at_04.30.34.png){width=42%}\n\nTo begin with the boards start easy, with a few pieces at a time. Notice, even in the early games, how some positions have just one solution while others may have several.\n\n![More positions](CleanShot 2022-08-30 at 08.46.16.png)\n\nFrom initial plays, you sense that it has a very Hamiltonian-Path-ish vibe, and feels like you’re trying to find a path in *some* graph 😅 \n\nWe started with a variant that was simultaneously a generalization and specialization:\n\n- n pieces 😎\n- ♖’s only\n- 1D boards 🙈\n\nThis, it turns out, is case so special that its trivial - you can sweep all rooks to the extreme left or extreme right of the board, and any position is winning even if every rook can capture exactly once. Less trivial though: how many ways there are to win? 🤔\n\nWe also ask what happens if every rook had a designated number of captures left. Imagine you have a 1D board and three kinds of rooks:\n\n- red rooks cannot move\n- blue rooks can move at most once\n- green rooks can move at most twice\n\n![1D Boards](CleanShot_2022-03-24_at_04.47.53.png)\n\nWe show that such 1D boards can be cleared if and only if then number of green rooks is at least the number of red rooks. This ties nicely with the intuition that every immovable rook needs to be picked up by a rook that can help another one (i.e, > one move left).\n\nThis generalizes naturally to rooks with a designated number of moves left, where said number can be anything between 0 and d. Since no other chess piece moves sensibly* across a 1D board, we decided to move on 2D boards from here.\n\n* Kings + rooks is an easy exercise.\n\nSo if you are still playing with red, blue, and green rooks, then the problem of checking if a given 2D configuration can be cleared up according to solo chess rules turns out to be NP-complete.\n\nNo Hamiltonian Path though —  this one was from bipartite dominating set 😎\n\n![A reduction from bipartite dominating set - I](CleanShot_2022-03-24_at_04.58.23.png)\n\n![A reduction from bipartite dominating set - II](CleanShot_2022-03-24_at_04.53.21.png)\n\nBishops are much the same as rooks, by a 45-degree tilt of the board.\n\n⚠️ Still open though: what about the case when all pieces have at most two moves left, which is closer to the original spirit of the game?\n\nWe don’t know yet, although we’d bet it’s hard, I think.\n\nWhen playing with queens only, however, we can gadget in the behaviors of red and blue pieces. So we do have that Generalized Solo Chess with just queens that can all move at most twice is NP-complete.\n\nWhat about pawns? Let’s get clarifying assumptions out of the way:\n\n- white pawns only\n- regular captures only since there’s no premise for en passant captures\n\nIn solo chess, pawns are (heavily) constrained bishops: they can only move upwards and to a neighboring diagonal square. Knowing that bishops were hard, but pawns felt simple — we didn’t have a bet either way. 🤔\n\nWe were pleasantly surprised that the case of pawns is tractable, even when each pawn has a designated* number of moves!\n\n*at most two.\n\n![Lemma for pawns](CleanShot_2022-03-24_at_05.23.22.png)\n\nThe algorithm is linear time, too.\n\nNext: what about knights? We don’t know yet!\n\n❓ What’s the complexity of solo chess when played only with knights?\n\nKnights are special because we don’t have to worry about obstructions. So the game can be described by a more general token game on graphs:\n\n![The Graph Capture Problem](CleanShot_2022-03-24_at_05.28.55.png)\n\nWe do show that Graph Capture is hard by a reduction, again from bipartite dominating set. This might hint at the hardness for Solo Chess played with knights only, but we are not betting on this yet.\n\n![Another reduction from bipartite dominating set - I](CleanShot_2022-03-24_at_05.29.11.png)\n\n![Another reduction from bipartite dominating set - II](CleanShot_2022-03-24_at_05.29.06.png)\n\nI think these preliminary explorations have left us with more questions than answers:\n\n- optimization versions (e.g, clear at least k pieces)\n- other constraints (e.g, on distance moved)\n- special cases (e.g, O(1) pieces per row/column)\n- n x c boards, constant c\n\nWhile at it, I’m also curious about how [@chesscom](https://twitter.com/chesscom) generates these puzzles, and if they have a mechanism for generating ones that have unique solutions. Also, is it true that if you throw “enough” pieces on the board, it’s solvable WHP?\n\nShout out to the [skak package](https://ctan.org/tex-archive/fonts/chess/skak) for making it easy to bring chess pieces to TikZ. We expect to put up a preprint on ArXiV soon. 👀  Meanwhile, we welcome comments and feedback — and if you read this far, thanks very much!\n\nPS. Also if you enjoy chess and algorithms, don’t miss [Miguel Ambrona’s](https://miguel-ambrona.github.io/) amazing [Chess Unwinnability Analyzer](https://chasolver.org/), which also appears at FUN 2022!\n\n![Chess Unwinnability](CleanShot_2022-03-24_at_05.56.43.png)\n\nYou can find the [full list of accepted papers here](https://sites.google.com/view/fun2022/acceptedpapers).\n","srcMarkdownNoYaml":"\n\n\nPutting [this thread](https://twitter.com/neeldhara/status/1506794212590768130) in one place.\n\n---\n\n🧵 on our latest at FUN 2022 with [@NRAravind1](https://twitter.com/NRAravind1) and Harshil.\n\nHave you tried Solo Chess [@chesscom](https://twitter.com/chesscom) yet? It’s addictive — and NP-complete* even when you’re dealing only with rooks!\n\n*when appropriately generalized\n\n![The Rules of the Game](FOk1WJZXwAUb7V7.jpg)\n\nSo this is a single-player, peg-solitaire-ish chess variant, where you have to clear board by making a sequence of valid captures, albeit starting with unorthodox — and even unrealistic — positions.\n\n![An example position](CleanShot_2022-03-24_at_04.30.34.png){width=42%}\n\nTo begin with the boards start easy, with a few pieces at a time. Notice, even in the early games, how some positions have just one solution while others may have several.\n\n![More positions](CleanShot 2022-08-30 at 08.46.16.png)\n\nFrom initial plays, you sense that it has a very Hamiltonian-Path-ish vibe, and feels like you’re trying to find a path in *some* graph 😅 \n\nWe started with a variant that was simultaneously a generalization and specialization:\n\n- n pieces 😎\n- ♖’s only\n- 1D boards 🙈\n\nThis, it turns out, is case so special that its trivial - you can sweep all rooks to the extreme left or extreme right of the board, and any position is winning even if every rook can capture exactly once. Less trivial though: how many ways there are to win? 🤔\n\nWe also ask what happens if every rook had a designated number of captures left. Imagine you have a 1D board and three kinds of rooks:\n\n- red rooks cannot move\n- blue rooks can move at most once\n- green rooks can move at most twice\n\n![1D Boards](CleanShot_2022-03-24_at_04.47.53.png)\n\nWe show that such 1D boards can be cleared if and only if then number of green rooks is at least the number of red rooks. This ties nicely with the intuition that every immovable rook needs to be picked up by a rook that can help another one (i.e, > one move left).\n\nThis generalizes naturally to rooks with a designated number of moves left, where said number can be anything between 0 and d. Since no other chess piece moves sensibly* across a 1D board, we decided to move on 2D boards from here.\n\n* Kings + rooks is an easy exercise.\n\nSo if you are still playing with red, blue, and green rooks, then the problem of checking if a given 2D configuration can be cleared up according to solo chess rules turns out to be NP-complete.\n\nNo Hamiltonian Path though —  this one was from bipartite dominating set 😎\n\n![A reduction from bipartite dominating set - I](CleanShot_2022-03-24_at_04.58.23.png)\n\n![A reduction from bipartite dominating set - II](CleanShot_2022-03-24_at_04.53.21.png)\n\nBishops are much the same as rooks, by a 45-degree tilt of the board.\n\n⚠️ Still open though: what about the case when all pieces have at most two moves left, which is closer to the original spirit of the game?\n\nWe don’t know yet, although we’d bet it’s hard, I think.\n\nWhen playing with queens only, however, we can gadget in the behaviors of red and blue pieces. So we do have that Generalized Solo Chess with just queens that can all move at most twice is NP-complete.\n\nWhat about pawns? Let’s get clarifying assumptions out of the way:\n\n- white pawns only\n- regular captures only since there’s no premise for en passant captures\n\nIn solo chess, pawns are (heavily) constrained bishops: they can only move upwards and to a neighboring diagonal square. Knowing that bishops were hard, but pawns felt simple — we didn’t have a bet either way. 🤔\n\nWe were pleasantly surprised that the case of pawns is tractable, even when each pawn has a designated* number of moves!\n\n*at most two.\n\n![Lemma for pawns](CleanShot_2022-03-24_at_05.23.22.png)\n\nThe algorithm is linear time, too.\n\nNext: what about knights? We don’t know yet!\n\n❓ What’s the complexity of solo chess when played only with knights?\n\nKnights are special because we don’t have to worry about obstructions. So the game can be described by a more general token game on graphs:\n\n![The Graph Capture Problem](CleanShot_2022-03-24_at_05.28.55.png)\n\nWe do show that Graph Capture is hard by a reduction, again from bipartite dominating set. This might hint at the hardness for Solo Chess played with knights only, but we are not betting on this yet.\n\n![Another reduction from bipartite dominating set - I](CleanShot_2022-03-24_at_05.29.11.png)\n\n![Another reduction from bipartite dominating set - II](CleanShot_2022-03-24_at_05.29.06.png)\n\nI think these preliminary explorations have left us with more questions than answers:\n\n- optimization versions (e.g, clear at least k pieces)\n- other constraints (e.g, on distance moved)\n- special cases (e.g, O(1) pieces per row/column)\n- n x c boards, constant c\n\nWhile at it, I’m also curious about how [@chesscom](https://twitter.com/chesscom) generates these puzzles, and if they have a mechanism for generating ones that have unique solutions. Also, is it true that if you throw “enough” pieces on the board, it’s solvable WHP?\n\nShout out to the [skak package](https://ctan.org/tex-archive/fonts/chess/skak) for making it easy to bring chess pieces to TikZ. We expect to put up a preprint on ArXiV soon. 👀  Meanwhile, we welcome comments and feedback — and if you read this far, thanks very much!\n\nPS. Also if you enjoy chess and algorithms, don’t miss [Miguel Ambrona’s](https://miguel-ambrona.github.io/) amazing [Chess Unwinnability Analyzer](https://chasolver.org/), which also appears at FUN 2022!\n\n![Chess Unwinnability](CleanShot_2022-03-24_at_05.56.43.png)\n\nYou can find the [full list of accepted papers here](https://sites.google.com/view/fun2022/acceptedpapers).\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../css/styles.css"],"toc":true,"html-math-method":"katex","include-after-body":["../../footer.html"],"filters":["abstract-section"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","theme":["simplex","../../custom.scss"],"js":"../../scripts.js","smooth-scroll":true,"anchor-sections":true,"page-layout":"full","title-block-banner":true,"title":"Solo Chess","date":"2022-03-24","categories":["exposition","twitterthread"],"fields":["date","title"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}